# 一键复制网页标题和地址

## 脚本安装地址

> 参考：[复制标题和地址（myFirstScript）](https://greasyfork.org/zh-CN/scripts/429598-%E5%A4%8D%E5%88%B6%E6%A0%87%E9%A2%98%E5%92%8C%E5%9C%B0%E5%9D%80-myfirstscript)

## 前言

有关这个脚本的一些说明，可以参见之前写的博客：

> 参考：[【油猴脚本编写初体验】一键复制网页标题和地址（copy-title-and-location）_赖念安的博客-CSDN博客](https://blog.csdn.net/qq_44879358/article/details/118896682)

这是我第一个发布的脚本，已经有一段时间了，其他几个脚本都有更新日志，我就想着在对部分代码进行重构是顺便把这个脚本的更新日志也补上吧~

## 更新日志

### V0.1

更新时间：2021年5月27日

更新功能：

1、在网页左上角位置添加一个带有特定图标的浅蓝色小按钮，鼠标移至该按钮上时将唤出按钮全貌，点击该按钮即可一键复制当前网页的标题和地址为Markdown格式并带上当前时间。格式如下：

```
更新：2021年10月5日15:21:31
> 参考：[【油猴脚本编写初体验】一键复制网页标题和地址（copy-title-and-location）_赖念安的博客-CSDN博客](https://blog.csdn.net/qq_44879358/article/details/118896682)
```

### V0.2

更新时间：记得不大清楚了，反正是断断续续地对某些样式方面的问题做了更改

更新功能：

1、解决了按钮在某些网页中的样式异常显示问题。

2、（我以为）解决了 `http` 协议下的页面不能使用 `navigator.clipboard` 对象的问题。

### V0.3

更新时间：2021年10月5日15:51:04

更新功能：

1、对代码结构进行了一定的精简，优化了一些逻辑，减少了冗余代码。

2、对 `http` 协议下的页面不能使用 `navigator.clipboard` 对象的问题做了统一的处理，使得适应性更好。

### V0.3.1

更新时间：2021年10月5日23:03:19

更新功能：

1、没有增加新的功能，只是将按钮中的图标由原来的 `<img>` 标签换成了 `svg`，这样就能解决部分页面中按钮图标缺失或是加载不出来的奇怪问题了。

2、顺便修改了一下按钮和弹出框的样式，主要是取消了 `button` 和 `textarea` 在点击时出现的边框，同时让 `textarea` 对浏览器的黑暗模式和白昼模式有统一的适应性。

~~3、本来还想增加一个快捷键的（比如：<kbd>Alt + C</kbd>），但是仔细一想好像也没那个必要。如果之后想增加的话再实现吧。~~

### V0.3.2

更新时间：2021年10月6日16:25:46

更新功能：

1、没有新的功能增加，只是修改了弹框和 `textarea` 的宽高设置方式以及关闭按钮的定位方式，使得弹框组件的样式在不同网页中的样式有更好的统一效果。

### V0.4

更新时间：2021年10月10日18:02:29

更新功能：

1、在http协议的页面中，在弹出弹框的同时增加一层白色背景遮罩以突出显示弹框，解决在黑暗模式下弹框容易被忽略的问题。

2、为了方便复用DOM节点，对获取标题、地址信息和时间戳的逻辑做了小幅度修改。

### V0.4.1

更新时间：2021年10月15日21:08:02

更新功能：

1、没有新增其他功能，修复了脚本的弹框可能会被某些广告拦截扩展拦截的问题。

### V0.5

更新时间：2023年4月3日17:26:09

更新功能：

1、增加了复制到剪贴板的函数，通用性更强。若当前页面为 `http` 协议时，不再采用弹窗的形式来提示用户手动复制文本，而是可以直接复制。
